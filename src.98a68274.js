parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"DdTY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NOTES=["D5","C5","B4","A4","G4","F4","E4","D4","C4","B3","A3","G3","F3","E3","D3","C3"],exports.NOTES_TO_HZ={C0:16.35,"C#0":17.32,Db0:17.32,D0:18.35,"D#0":19.45,Eb0:19.45,E0:20.6,F0:21.83,"F#0":23.12,Gb0:23.12,G0:24.5,"G#0":25.96,Ab0:25.96,A0:27.5,"A#0":29.14,Bb0:29.14,B0:30.87,C1:32.7,"C#1":34.65,Db1:34.65,D1:36.71,"D#1":38.89,Eb1:38.89,E1:41.2,F1:43.65,"F#1":46.25,Gb1:46.25,G1:49,"G#1":51.91,Ab1:51.91,A1:55,"A#1":58.27,Bb1:58.27,B1:61.74,C2:65.41,"C#2":69.3,Db2:69.3,D2:73.42,"D#2":77.78,Eb2:77.78,E2:82.41,F2:87.31,"F#2":92.5,Gb2:92.5,G2:98,"G#2":103.83,Ab2:103.83,A2:110,"A#2":116.54,Bb2:116.54,B2:123.47,C3:130.81,"C#3":138.59,Db3:138.59,D3:146.83,"D#3":155.56,Eb3:155.56,E3:164.81,F3:174.61,"F#3":185,Gb3:185,G3:196,"G#3":207.65,Ab3:207.65,A3:220,"A#3":233.08,Bb3:233.08,B3:246.94,C4:261.63,"C#4":277.18,Db4:277.18,D4:293.66,"D#4":311.13,Eb4:311.13,E4:329.63,F4:349.23,"F#4":369.99,Gb4:369.99,G4:392,"G#4":415.3,Ab4:415.3,A4:440,"A#4":466.16,Bb4:466.16,B4:493.88,C5:523.25,"C#5":554.37,Db5:554.37,D5:587.33,"D#5":622.25,Eb5:622.25,E5:659.26,F5:698.46,"F#5":739.99,Gb5:739.99,G5:783.99,"G#5":830.61,Ab5:830.61,A5:880,"A#5":932.33,Bb5:932.33,B5:987.77,C6:1046.5,"C#6":1108.73,Db6:1108.73,D6:1174.66,"D#6":1244.51,Eb6:1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,Gb6:1479.98,G6:1567.98,"G#6":1661.22,Ab6:1661.22,A6:1760,"A#6":1864.66,Bb6:1864.66,B6:1975.53,C7:2093,"C#7":2217.46,Db7:2217.46,D7:2349.32,"D#7":2489.02,Eb7:2489.02,E7:2637.02,F7:2793.83,"F#7":2959.96,Gb7:2959.96,G7:3135.96,"G#7":3322.44,Ab7:3322.44,A7:3520,"A#7":3729.31,Bb7:3729.31,B7:3951.07,C8:4186.01};
},{}],"H8CO":[function(require,module,exports) {
"use strict";function t(t,e){var n=document.createElement("button");return n.classList.add("step-button"),n.classList.add("col-"+e),n.dataset.row=String(t),n.dataset.col=String(e),n}function e(){var t=document.createElement("span");return t.classList.add("step-buttons"),t}function n(t){var e=document.createElement("h3");return e.classList.add("track-name"),e.textContent=t,e}function a(a){var r=a.note,o=a.row,c=a.length,d=document.createElement("div");d.classList.add("track");var s=n(r);d.append(s);var u=e();d.append(u);for(var l=[],p=0;p<c;p++)l.push(t(o,p));return u.append.apply(u,l),d}function r(t){for(var e=document.createDocumentFragment(),n=0;n<t.length;n++){var r=a({note:t[n],row:n,length:t.length});e.append(r)}document.getElementById("matrix-section").append(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"ROL7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=!0,e=!0,n='<svg width="20" height="20" viewBox="0 0 494.942 494.942" xmlns="http://www.w3.org/2000/svg"><path d="m35.353 0 424.236 247.471-424.236 247.471z"></path></svg>',s='<svg width="15" height="15" viewBox="0 0 424.236 424.236" xmlns="http://www.w3.org/2000/svg"><path d="m247.471 0h176.765v424.236h-176.765z" id="path-1_5_" transform="translate(9 2)"></path><path id="path-1_4_" d="m0 0h176.765v424.236h-176.765z" transform="translate(2 2)"></path></svg>';function a(t){return function(){var e=document.getElementById("play"),a=e.classList.contains("on");e.classList.toggle("on"),a?(e.innerHTML=n,t.pause()):(e.innerHTML=s,t.play())}}function o(t){return function(){var e=document.getElementById("play");e.classList.contains("on")&&(e.classList.toggle("on"),e.innerHTML=n),t.stop()}}function r(t){var e=document.getElementById("play"),n=document.getElementById("stop");e.addEventListener("click",a(t)),n.addEventListener("click",o(t))}function i(n){return function(s){t=!1;var a=s.target;e=!a.classList.contains("on"),a.classList.toggle("on");var o=Number(a.dataset.row),r=Number(a.dataset.col);n.toggleMatrix(o,r)}}function c(){t=!0}function d(n){return function(s){if(!t){var a=s.target,o=a.classList.contains("on");if(o&&!e||!o&&e){a.classList.toggle("on");var r=Number(a.dataset.row),i=Number(a.dataset.col);n.toggleMatrix(r,i)}}}}function l(t){var e=d(t),n=i(t);document.body.addEventListener("mouseup",c);for(var s=0,a=document.getElementsByClassName("step-button");s<a.length;s++){var o=a[s];o.addEventListener("mouseenter",e),o.addEventListener("mousedown",n)}}function u(t){r(t),l(t)}exports.default=u;
},{}],"b59L":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function l(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}u((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(l){a=[6,l],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},n=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)r[o]=a[i];return r},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=r(require("./renderers")),a=r(require("./events"));function i(e){var t=e.notes,n=e.metronome;o.default(t),a.default(n)}function l(e,t){if(void 0!==e)for(var r=0,o=n(document.getElementsByClassName("col-"+e));r<o.length;r++){o[r].classList.remove("playing")}if(void 0!==t)for(var a=0,i=n(document.getElementsByClassName("col-"+t));a<i.length;a++){i[a].classList.add("playing")}}function u(){return e(this,void 0,void 0,function(){var e,r,o;return t(this,function(t){for(e=n(document.getElementsByClassName("playing")),r=0,o=e;r<o.length;r++)o[r].classList.remove("playing");return[2]})})}exports.render=i,exports.drawPlayingCues=l,exports.removePlayingCues=u;
},{"./renderers":"H8CO","./events":"ROL7"}],"KVTk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./notes"),t={1:.5,2:.25,3:1/3-.1,4:.15,5:.1,6:1/6-.1,7:1/7-.05,8:.075,9:1/9-.05,10:.05,11:1/11-.05,12:1/12-.05,13:1/13-.05,14:1/14-.1,15:1/15-.1,16:1/16-.1};function r(e){var t=e.hz,r=e.audioCtx,n=e.gain,i=r.createOscillator();return i.frequency.value=t,i.connect(n),i}function n(t){var n=t.note,i=t.audioCtx,a=i.createGain();a.connect(i.destination),a.gain.setTargetAtTime(0,i.currentTime,0);var o=r({hz:e.NOTES_TO_HZ[n],audioCtx:i,gain:a});o.start(i.currentTime),a.gain.setTargetAtTime(.4,i.currentTime,.05),a.gain.setTargetAtTime(1e-4,i.currentTime+.25,.125),o.stop(i.currentTime+1)}function i(n){var i=n.notes,a=n.duration,o=n.audioCtx;if(i.length){var u=t[i.length],c=o.createGain(),T=i.map(function(t){return r({hz:e.NOTES_TO_HZ[t],audioCtx:o,gain:c})});c.gain.setTargetAtTime(0,o.currentTime,0),c.connect(o.destination),T.forEach(function(e){return e.start()}),c.gain.setTargetAtTime(u,o.currentTime,.05),c.gain.setTargetAtTime(1e-4,o.currentTime+2*a,.125),T.forEach(function(e){return e.stop(o.currentTime+10*a)})}}exports.playNote=n,exports.playNotesAtTime=i;
},{"./notes":"DdTY"}],"uJHe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../audio"),e=require("../matrix");function i(t){return void 0===t&&(t=128),60/t*4/16}function n(t){return void 0===t&&(t=128),1e3*i(t)}var s=function(){function s(t){var i=this;this.intervalCb=function(){var t=i.step;null===t||15===t?i.step=0:i.step+=1,i.prevStep=t,i.hasDrawnCues=!1,i.scheduleNotesToPlay(),i.draw()},this.draw=function(){var t=i,n=t.prevStep,s=t.step,r=t.draw,o=t.isOn;i.hasDrawnCues||(e.drawPlayingCues(n,s),i.hasDrawnCues=!0),o&&requestAnimationFrame(r)};var n=window.AudioContext||window.webkitAudioContext;this.bpm=128,this.isOn=!1,this.step=null,this.notes=t,this.interval=null,this.audioCtx=new n,this.hasDrawnCues=!1,this.matrix=t.map(function(){return new Array(t.length).fill(!1)})}return s.prototype.toggleMatrix=function(e,i){var n=this.matrix,s=this.notes,r=this.audioCtx,o=!n[e][i];n[e][i]=o,o&&t.playNote({note:s[e],audioCtx:r})},s.prototype.play=function(){var t=this.intervalCb,e=this.bpm;this.interval=setInterval(t,n(e)),this.isOn=!0},s.prototype.pause=function(){var t=this.interval;t&&clearInterval(t),this.isOn=!1},s.prototype.stop=function(){this.pause(),this.step=null,this.prevStep=null,e.removePlayingCues()},s.prototype.getNotesAtCurrentStep=function(){for(var t=this.step,e=this.notes,i=this.matrix,n=[],s=0;s<i.length;s++){i[s][t]&&n.push(e[s])}return n},s.prototype.scheduleNotesToPlay=function(){var e=this.audioCtx,n=this.bpm,s=this.getNotesAtCurrentStep();t.playNotesAtTime({notes:s,duration:i(n),audioCtx:e})},s}();exports.default=s;
},{"../audio":"KVTk","../matrix":"b59L"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./audio/notes"),r=require("./matrix"),n=e(require("./metronome"));function o(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",function(){return e()})}function u(){var e=new n.default(t.NOTES);r.render({notes:t.NOTES,metronome:e})}o(u);
},{"./audio/notes":"DdTY","./matrix":"b59L","./metronome":"uJHe"}]},{},["QCba"], null)
//# sourceMappingURL=src.98a68274.js.map